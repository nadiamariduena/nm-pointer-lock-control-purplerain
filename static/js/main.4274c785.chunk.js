(this["webpackJsonpnm-pointer-lock-control-purplerain"]=this["webpackJsonpnm-pointer-lock-control-purplerain"]||[]).push([[0],{33:function(e,t,o){},41:function(e,t,o){"use strict";o.r(t);var n=o(1),r=o.n(n),c=o(24),a=o.n(c),i=(o(33),o(0)),s=o(2),l=o(4),d=o(5),m=o(26),h=o(7),p=o(6),v=o(25),b=o(3),u={height:600},j=function(e){Object(l.a)(o,e);var t=Object(d.a)(o);function o(){var e;Object(i.a)(this,o);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).sceneSetup=function(){e.objects=[],e.moveForward=!1,e.moveBackward=!1,e.moveLeft=!1,e.moveRight=!1,e.canJump=!1,e.prevTime=performance.now(),e.velocity=new p.p,e.direction=new p.p,e.vertex=new p.p,e.color=new p.b;var t=e.eleModelBlOne.clientWidth,o=e.eleModelBlOne.clientHeight;e.camera=new p.k(75,window.innerWidth/window.innerHeight,1,1e3),e.camera.position.y=10,e.scene=new p.n,e.renderer=new p.q({antialias:!0}),e.renderer.setSize(t,o),e.renderer.shadowMap.enabled=!0,e.eleModelBlOne.appendChild(e.renderer.domElement),e.blocker.appendChild(e.renderer.domElement),e.controls=new v.a(e.camera,e.eleModelBlOne),e.eleModelBlOne.addEventListener("click",(function(){e.controls.lock(),console.log("I clicked")})),e.controls.addEventListener("lock",(function(){e.eleModelBlOne.style.display="none"})),e.controls.addEventListener("unlock",(function(){e.eleModelBlOne.style.display="block"})),e.scene.add(e.controls.getObject());document.addEventListener("keydown",(function(e){switch(e.keyCode){case 38:case 87:this.moveForward=!0;break;case 37:case 65:this.moveLeft=!0;break;case 40:case 83:this.moveBackward=!0;break;case 39:case 68:this.moveRight=!0;break;case 32:!0===this.canJump&&(this.velocity.y+=350),this.canJump=!1}}),!1),document.addEventListener("keyup",(function(e){switch(e.keyCode){case 38:case 87:this.moveForward=!1;break;case 37:case 65:this.moveLeft=!1;break;case 40:case 83:this.moveBackward=!1;break;case 39:case 68:this.moveRight=!1}}),!1),e.raycaster=new p.m(new p.p,new p.p(0,-1,0),0,10)},e.addCustomSceneObjects=function(){e.floorGeometry=new p.l(2e3,2e3,100,100),e.floorGeometry.rotateX(-Math.PI/2);for(var t=e.floorGeometry.attributes.position,o=0,n=t.count;o<n;o++)e.vertex.fromBufferAttribute(t,o),e.vertex.x+=20*Math.random()-10,e.vertex.y+=2*Math.random(),e.vertex.z+=20*Math.random()-10,t.setXYZ(o,e.vertex.x,e.vertex.y,e.vertex.z);e.floorGeometry=e.floorGeometry.toNonIndexed();for(var r=[],c=0,a=(t=e.floorGeometry.attributes.position).count;c<a;c++)e.color.setHSL(.3*Math.random()+.5,.75,.25*Math.random()+.75),r.push(e.color.r,e.color.g,e.color.b);e.floorGeometry.setAttribute("color",new p.f(r,3)),e.floorMaterial=new p.h({vertexColors:!0}),e.floor=new p.g(e.floorGeometry,e.floorMaterial),e.scene.add(e.floor),e.boxGeometry=new p.a(20,20,20).toNonIndexed();for(var i=[],s=0,l=(t=e.boxGeometry.attributes.position).count;s<l;s++)e.color.setHSL(.3*Math.random()+.5,.75,.25*Math.random()+.75),i.push(e.color.r,e.color.g,e.color.b);e.boxGeometry.setAttribute("color",new p.f(i,3));for(var d=0;d<500;d++){var m=new p.i({specular:16777215,flatShading:!0,vertexColors:!0});m.color.setHSL(.2*Math.random()+.5,.75,.25*Math.random()+.75);var h=new p.g(e.boxGeometry,m);h.position.x=20*Math.floor(20*Math.random()-10),h.position.y=20*Math.floor(20*Math.random())+10,h.position.z=20*Math.floor(20*Math.random()-10),e.scene.add(h),e.objects.push(h)}e.renderer.outputEncoding=p.r,e.renderer.shadowMap.enabled=!0,e.renderer.shadowMap.autoUpdate=!0,e.renderer.gammaFactor=2.2;var v=new p.c(16777215);v.position.set(5,-1,100),v.position.set(1e3,1e3,1e3),v.castShadow=!0,v.shadow.camera=new p.j(-100,200,-200,200,.5,5e3),e.scene.add(v),e.spotLight=new p.o(16777215,.5),e.spotLight.position.set(5,-50,0),e.spotLight.castShadow=!0,e.spotLight.visible=!0,e.scene.add(e.spotLight)},e.startAnimationLoop=function(){e.requestID=window.requestAnimationFrame(e.startAnimationLoop),e.time=performance.now(),!0===e.controls.isLocked&&(e.raycaster.ray.origin.copy(e.controls.getObject().position),e.raycaster.ray.origin.y-=10,e.intersections=e.raycaster.intersectObjects(e.objects),e.onObject=e.intersections.length>0,e.delta=(e.time-e.prevTime)/1e3,e.velocity.x-=10*e.velocity.x*e.delta,e.velocity.z-=10*e.velocity.z*e.delta,e.velocity.y-=9.8*100*e.delta,e.controls.moveForward&&(e.velocity.z-=400*e.delta),e.controls.moveBackward&&(e.velocity.z+=400*e.delta),e.controls.moveLeft&&(e.velocity.x-=400*e.delta),e.controls.moveRight&&(e.velocity.x+=400*e.delta),!0===e.onObject&&(e.velocity.y=Math.max(0,e.velocity.y),e.canJump=!0),e.controls.moveRight(-e.velocity.x*e.delta),e.controls.moveForward(-e.velocity.z*e.delta),e.controls.getObject().position.y+=e.velocity.y*e.delta,e.controls.getObject().position.y<10&&(e.velocity.y=0,e.controls.getObject().position.y=10,e.canJump=!0)),e.prevTime=e.time,e.renderer.render(e.scene,e.camera)},e.handleWindowResize=function(){var t=e.eleModelBlOne.clientWidth,o=e.eleModelBlOne.clientHeight;e.renderer.setSize(t,o),e.camera.aspect=t/o,e.camera.updateProjectionMatrix()},e}return Object(s.a)(o,[{key:"componentDidMount",value:function(){this.sceneSetup(),this.addCustomSceneObjects(),this.startAnimationLoop(),window.addEventListener("resize",this.handleWindowResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleWindowResize),window.cancelAnimationFrame(this.requestID),this.controls.dispose()}},{key:"render",value:function(){var e=this;return Object(b.jsx)("div",{className:"scene-oblivion",children:Object(b.jsx)("div",{className:"blocker",ref:function(t){return e.blocker=t},children:Object(b.jsx)("div",{className:"modelBleOne",style:u,ref:function(t){return e.eleModelBlOne=t},children:Object(b.jsxs)("div",{className:"commands",children:[Object(b.jsx)("span",{children:"Click to play"}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),"Move: WASD",Object(b.jsx)("br",{}),"Jump: SPACE",Object(b.jsx)("br",{}),"Look: MOUSE"]})})})})}}]),o}(n.Component),y=o(28),w=function(){var e=Object(n.useState)(!1),t=Object(y.a)(e,2),o=t[0],c=t[1];return window.addEventListener("scroll",(function(){c(!0)})),Object(b.jsx)(r.a.Fragment,{children:Object(b.jsx)("div",{className:"back-to-top",children:Object(b.jsxs)("h1",{className:"scrollTop",onClick:function(){window.scrollTo({top:0,behavior:"smooth"})},style:{display:o},children:[" ","Back to top ",Object(b.jsx)("span",{children:"\u27f6 "})]})})})};n.Component;var f=function(){return Object(b.jsx)(r.a.Fragment,{children:Object(b.jsx)("section",{className:"container-section-scene-home",children:Object(b.jsx)("div",{className:"scene-threejs",children:Object(b.jsx)("div",{className:"wrapper-flag-scene-threejs",children:Object(b.jsx)("div",{className:"wrapper-scene-oblivion",children:Object(b.jsx)(j,{})})})})})})},O=function(e){Object(l.a)(o,e);var t=Object(d.a)(o);function o(){return Object(i.a)(this,o),t.apply(this,arguments)}return Object(s.a)(o,[{key:"render",value:function(){return Object(b.jsx)(m.a,{children:Object(b.jsx)("div",{className:"App",children:Object(b.jsx)("div",{id:"wrapper-app",children:Object(b.jsx)(h.c,{children:Object(b.jsx)(h.a,{exact:!0,path:"/",component:f})})})})})}}]),o}(n.Component),x=function(e){e&&e instanceof Function&&o.e(3).then(o.bind(null,42)).then((function(t){var o=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,a=t.getTTFB;o(e),n(e),r(e),c(e),a(e)}))};a.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(O,{})}),document.getElementById("root")),x()}},[[41,1,2]]]);
//# sourceMappingURL=main.4274c785.chunk.js.map